import{s as j,n as I,q as O,c as D,a as z,b as F}from"../chunks/scheduler.DF6JUidF.js";import{S as P,i as R,e as v,s as A,c as g,a as C,y as W,f as V,d as u,o as f,g as _,h as x,t as y,b as E,j as S,u as B,v as q,w as H,n as N,l as M,x as U}from"../chunks/index.Ck5vuUOj.js";function G(r){let t;return{c(){t=y("ðŸ¦„ try opening a image.ppm file")},l(l){t=E(l,"ðŸ¦„ try opening a image.ppm file")},m(l,i){_(l,t,i)},p:I,d(l){l&&u(t)}}}function J(r){let t;function l(a,e){return a[0].status?L:K}let i=l(r),s=i(r);return{c(){t=v("p"),s.c(),this.h()},l(a){t=g(a,"P",{id:!0,class:!0});var e=C(t);s.l(e),e.forEach(u),this.h()},h(){f(t,"id","text-editor"),f(t,"class","svelte-1t5hpfk")},m(a,e){_(a,t,e),s.m(t,null)},p(a,e){i===(i=l(a))&&s?s.p(a,e):(s.d(1),s=i(a),s&&(s.c(),s.m(t,null)))},d(a){a&&u(t),s.d()}}}function K(r){let t,l,i=r[0].data+"",s;return{c(){t=v("p"),l=y("Error reading file: "),s=y(i),this.h()},l(a){t=g(a,"P",{class:!0});var e=C(t);l=E(e,"Error reading file: "),s=E(e,i),e.forEach(u),this.h()},h(){f(t,"class","error svelte-1t5hpfk")},m(a,e){_(a,t,e),x(t,l),x(t,s)},p(a,e){e&1&&i!==(i=a[0].data+"")&&S(s,i)},d(a){a&&u(t)}}}function L(r){let t,l,i,s=r[0].data.header.width+"",a,e,c,o,d=r[0].data.header.height+"",n,p,b,w,$=r[0].data.header.max_val+"",k;return{c(){t=y("Stats: "),l=v("br"),i=y(`
				width: `),a=y(s),e=A(),c=v("br"),o=y(`
				height: `),n=y(d),p=A(),b=v("br"),w=y(`
				max_val: `),k=y($)},l(h){t=E(h,"Stats: "),l=g(h,"BR",{}),i=E(h,`
				width: `),a=E(h,s),e=V(h),c=g(h,"BR",{}),o=E(h,`
				height: `),n=E(h,d),p=V(h),b=g(h,"BR",{}),w=E(h,`
				max_val: `),k=E(h,$)},m(h,m){_(h,t,m),_(h,l,m),_(h,i,m),_(h,a,m),_(h,e,m),_(h,c,m),_(h,o,m),_(h,n,m),_(h,p,m),_(h,b,m),_(h,w,m),_(h,k,m)},p(h,m){m&1&&s!==(s=h[0].data.header.width+"")&&S(a,s),m&1&&d!==(d=h[0].data.header.height+"")&&S(n,d),m&1&&$!==($=h[0].data.header.max_val+"")&&S(k,$)},d(h){h&&(u(t),u(l),u(i),u(a),u(e),u(c),u(o),u(n),u(p),u(b),u(w),u(k))}}}function Q(r){let t,l,i="; Saeko v0.10",s,a;function e(d,n){return n&1&&(a=null),a==null&&(a=!d[1](d[0])),a?J:G}let c=e(r,-1),o=c(r);return{c(){t=v("div"),l=v("p"),l.textContent=i,s=A(),o.c(),this.h()},l(d){t=g(d,"DIV",{id:!0,class:!0});var n=C(t);l=g(n,"P",{class:!0,"data-svelte-h":!0}),W(l)!=="svelte-1wib1op"&&(l.textContent=i),s=V(n),o.l(n),n.forEach(u),this.h()},h(){f(l,"class","svelte-1t5hpfk"),f(t,"id","editor"),f(t,"class","svelte-1t5hpfk")},m(d,n){_(d,t,n),x(t,l),x(t,s),o.m(t,null)},p(d,[n]){c===(c=e(d,n))&&o?o.p(d,n):(o.d(1),o=c(d),o&&(o.c(),o.m(t,null)))},i:I,o:I,d(d){d&&u(t),o.d()}}}function T(r,t,l){let i;const s=e=>[Object,Array].includes((e||{}).constructor)&&!Object.entries(e||{}).length,{loaded_file:a}=O("store");return D(r,a,e=>l(0,i=e)),[i,s,a]}class X extends P{constructor(t){super(),R(this,t,T,Q,j,{})}}function Y(r){let t,l="; Saeko";return{c(){t=v("h1"),t.textContent=l,this.h()},l(i){t=g(i,"H1",{class:!0,"data-svelte-h":!0}),W(t)!=="svelte-xvehgi"&&(t.textContent=l),this.h()},h(){f(t,"class","svelte-1tkbo6a")},m(i,s){_(i,t,s)},p:I,d(i){i&&u(t)}}}function Z(r){let t,l,i;return{c(){t=v("canvas"),this.h()},l(s){t=g(s,"CANVAS",{width:!0,height:!0,class:!0}),C(t).forEach(u),this.h()},h(){f(t,"width",l=r[1].data.header.width),f(t,"height",i=r[1].data.header.height),f(t,"class","svelte-1tkbo6a")},m(s,a){_(s,t,a),r[4](t)},p(s,a){a&2&&l!==(l=s[1].data.header.width)&&f(t,"width",l),a&2&&i!==(i=s[1].data.header.height)&&f(t,"height",i)},d(s){s&&u(t),r[4](null)}}}function tt(r){let t,l;function i(e,c){return c&2&&(l=null),l==null&&(l=!!(!e[2](e[1])&&e[1].status)),l?Z:Y}let s=i(r,-1),a=s(r);return{c(){t=v("div"),a.c(),this.h()},l(e){t=g(e,"DIV",{class:!0});var c=C(t);a.l(c),c.forEach(u),this.h()},h(){f(t,"class","container svelte-1tkbo6a")},m(e,c){_(e,t,c),a.m(t,null)},p(e,[c]){s===(s=i(e,c))&&a?a.p(e,c):(a.d(1),a=s(e),a&&(a.c(),a.m(t,null)))},i:I,o:I,d(e){e&&u(t),a.d()}}}function et(r,t,l){let i;const s=o=>[Object,Array].includes((o||{}).constructor)&&!Object.entries(o||{}).length,{loaded_file:a}=O("store");D(r,a,o=>l(1,i=o));let e=null;z(()=>{if(!e)return;const o=e.getContext("2d"),d=e.width,n=e.height;o.clearRect(0,0,d,n);const p=o.getImageData(0,0,d,n),b=p.data,w=i.data.data.pixels;for(let $=0,k=0;$<w.length;$++)b[k++]=w[$][0],b[k++]=w[$][1],b[k++]=w[$][2],b[k++]=255;o.putImageData(p,0,0)});function c(o){F[o?"unshift":"push"](()=>{e=o,l(0,e)})}return[e,i,s,a,c]}class at extends P{constructor(t){super(),R(this,t,et,tt,j,{})}}function lt(r){let t,l,i,s,a,e,c,o,d;return i=new X({}),c=new at({}),{c(){t=v("main"),l=v("div"),B(i.$$.fragment),a=A(),e=v("div"),B(c.$$.fragment),this.h()},l(n){t=g(n,"MAIN",{class:!0});var p=C(t);l=g(p,"DIV",{id:!0,style:!0,class:!0});var b=C(l);q(i.$$.fragment,b),b.forEach(u),a=V(p),e=g(p,"DIV",{id:!0,style:!0,class:!0});var w=C(e);q(c.$$.fragment,w),w.forEach(u),p.forEach(u),this.h()},h(){f(l,"id","editor-pane"),f(l,"style",s=`max-width: ${r[0]?"100%":"0%"}`),f(l,"class","svelte-1wgre1"),f(e,"id","viewer-pane"),f(e,"style",o=`max-width: ${r[1]?"100%":"0%"}`),f(e,"class","svelte-1wgre1"),f(t,"class","svelte-1wgre1")},m(n,p){_(n,t,p),x(t,l),H(i,l,null),x(t,a),x(t,e),H(c,e,null),d=!0},p(n,[p]){(!d||p&1&&s!==(s=`max-width: ${n[0]?"100%":"0%"}`))&&f(l,"style",s),(!d||p&2&&o!==(o=`max-width: ${n[1]?"100%":"0%"}`))&&f(e,"style",o)},i(n){d||(N(i.$$.fragment,n),N(c.$$.fragment,n),d=!0)},o(n){M(i.$$.fragment,n),M(c.$$.fragment,n),d=!1},d(n){n&&u(t),U(i),U(c)}}}function st(r,t,l){let i,s;const{show_editor:a,show_viewer:e}=O("store");return D(r,a,c=>l(0,i=c)),D(r,e,c=>l(1,s=c)),[i,s,a,e]}class rt extends P{constructor(t){super(),R(this,t,st,lt,j,{})}}export{rt as component};
